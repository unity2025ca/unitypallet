# ุฏููู ููู ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุฏููุฉ
## Database Migration Guide

ูุฐุง ุงูุฏููู ูุดุฑุญ ููููุฉ ุงุณุชุฎุฏุงู ุณูุฑูุจุช ููู ุงูุจูุงูุงุช ูุชุญููู ุฌููุน ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุฏููุฉ ุฅูู ุงููุธุงู ุงูุฌุฏูุฏ.

## ุงููุชุทูุจุงุช

1. **ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุฏููุฉ**: ูุฌุจ ุฃู ุชููู ูุงุนุฏุฉ PostgreSQL ูุงุจูุฉ ูููุตูู
2. **ุตูุงุญูุงุช ุงููุฑุงุกุฉ**: ุญุณุงุจ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฌุจ ุฃู ูููู ุตูุงุญูุงุช ุงููุฑุงุกุฉ ูู ุฌููุน ุงูุฌุฏุงูู
3. **ูุณุงุญุฉ ุชุฎุฒูู**: ูุณุงุญุฉ ูุงููุฉ ูุญูุธ ูููุงุช ุงูุชุตุฏูุฑ

## ุงูุฎุทูุงุช

### ุงูุฎุทูุฉ 1: ุชุญุฏูุฏ ุฑุงุจุท ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุฏููุฉ

```bash
# ุทุฑููุฉ 1: ุงุณุชุฎุฏุงู ูุชุบูุฑ ุงูุจูุฆุฉ ุงูุญุงูู
export DATABASE_URL="postgresql://username:password@hostname:port/database_name"

# ุทุฑููุฉ 2: ุงุณุชุฎุฏุงู ูุชุบูุฑ ูููุตู ููุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุฏููุฉ
export OLD_DATABASE_URL="postgresql://username:password@hostname:port/old_database_name"
```

### ุงูุฎุทูุฉ 2: ุชุดุบูู ุณูุฑูุจุช ุงูููู

```bash
# ุชุดุบูู ุงูุณูุฑูุจุช
node run-migration.js
```

## ูุง ูููู ุจู ุงูุณูุฑูุจุช

### 1. ูุญุต ุงูุฌุฏุงูู ุงูููุฌูุฏุฉ
- ูุชุตู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ูููุญุต ุฌููุน ุงูุฌุฏุงูู ุงููุชุงุญุฉ
- ูุนุฑุถ ูุงุฆูุฉ ุจุงูุฌุฏุงูู ุงูููุฌูุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 2. ุฅูุดุงุก ุงูุฌุฏุงูู ุงูููููุฏุฉ
- ููุดุฆ ุฃู ุฌุฏุงูู ูุทููุจุฉ ุบูุฑ ููุฌูุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ูุณุชุฎุฏู ูููู ุงูุฌุฏุงูู ุงููุญุฏุฏ ูุณุจูุงู

### 3. ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช
ูุณุชุฎุฑุฌ ุงูุจูุงูุงุช ูู ุงูุฌุฏุงูู ุงูุชุงููุฉ:
- `users` - ุจูุงูุงุช ุงููุณุชุฎุฏููู
- `products` - ุจูุงูุงุช ุงูููุชุฌุงุช
- `categories` - ูุฆุงุช ุงูููุชุฌุงุช
- `product_images` - ุตูุฑ ุงูููุชุฌุงุช
- `settings` - ุฅุนุฏุงุฏุงุช ุงููููุน
- `contacts` - ุฑุณุงุฆู ุงูุชูุงุตู
- `faqs` - ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ
- `appointments` - ุงูููุงุนูุฏ
- `subscribers` - ุงููุดุชุฑููู ูู ุงููุดุฑุฉ ุงูุฅุฎุจุงุฑูุฉ
- `orders` - ุงูุทูุจุงุช
- `order_items` - ุนูุงุตุฑ ุงูุทูุจุงุช
- `shipping_zones` - ููุงุทู ุงูุดุญู
- `shipping_rates` - ุฃุณุนุงุฑ ุงูุดุญู
- `locations` - ุงูููุงูุน ูุงููุฏู
- `allowed_cities` - ุงููุฏู ุงููุณููุญุฉ
- `carts` - ุนุฑุจุงุช ุงูุชุณูู
- `cart_items` - ุนูุงุตุฑ ุนุฑุจุฉ ุงูุชุณูู
- `visitor_stats` - ุฅุญุตุงุฆูุงุช ุงูุฒูุงุฑ
- `notifications` - ุงูุฅุดุนุงุฑุงุช

### 4. ุญูุธ ุงูุจูุงูุงุช
ููุดุฆ ุงูุณูุฑูุจุช ุงููููุงุช ุงูุชุงููุฉ ูู ูุฌูุฏ `exported_data`:

#### ูููุงุช JSON
- `complete_database_export.json` - ุฌููุน ุงูุจูุงูุงุช ูู ููู ูุงุญุฏ
- `[table_name].json` - ููู ูููุตู ููู ุฌุฏูู ูุญุชูู ุนูู ุจูุงูุงุช

#### ููู SQL
- `import_script.sql` - ุณูุฑูุจุช SQL ุฌุงูุฒ ูุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช

#### ุชูุฑูุฑ ุงูุชุตุฏูุฑ
- `export_report.json` - ุชูุฑูุฑ ุชูุตููู ุนู ุนูููุฉ ุงูุชุตุฏูุฑ

## ูุซุงู ุนูู ุงูุชูุฑูุฑ

```json
{
  "exportDate": "2024-01-15T10:30:00.000Z",
  "totalTables": 20,
  "existingTables": 18,
  "exportedTables": 15,
  "totalRecords": 1250,
  "tableDetails": {
    "users": {
      "recordCount": 45,
      "status": "exported"
    },
    "products": {
      "recordCount": 125,
      "status": "exported"
    }
  }
}
```

## ุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงููุตุฏุฑุฉ

### ุงุณุชูุฑุงุฏ ุจุงุณุชุฎุฏุงู SQL
```bash
# ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู ุณูุฑูุจุช SQL
psql -h hostname -U username -d database_name -f exported_data/import_script.sql
```

### ุงุณุชุฎุฏุงู ูููุงุช JSON
ูููู ุงุณุชุฎุฏุงู ูููุงุช JSON ูุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช ุจุฑูุฌูุงู ุฃู ูุชุญููู ุงูุจูุงูุงุช.

## ุฑุณุงุฆู ุงูุณูุฑูุจุช

### ุฑุณุงุฆู ุงููุฌุงุญ
- `โ ุชูุช ุนูููุฉ ููู ุงูุจูุงูุงุช ุจูุฌุงุญ!`
- `๐ค ุงุณุชุฎุฑุงุฌ X ุณุฌู ูู ุฌุฏูู Y`
- `๐ ุฅูุดุงุก ุฌุฏูู: table_name`

### ุฑุณุงุฆู ุงูุชุญุฐูุฑ
- `โ๏ธ ูุง ูููู ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช ูู ุฌุฏูู X`
- `๐ ุฌุฏูู X ููุฌูุฏ ูุณุจูุงู`

### ุฑุณุงุฆู ุงูุฎุทุฃ
- `โ ุฎุทุฃ ูู ูุญุต ุงูุฌุฏุงูู`
- `โ ุฎุทุฃ ูู ุฅูุดุงุก ุงูุฌุฏุงูู`
- `โ ุฎุทุฃ ูู ุนูููุฉ ููู ุงูุจูุงูุงุช`

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฎุทุฃ ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
```
โ ุฎุทุฃ: ูุฌุจ ุชุนููู ูุชุบูุฑ DATABASE_URL ุฃู OLD_DATABASE_URL
```
**ุงูุญู**: ุชุฃูุฏ ูู ุชุนููู ุฑุงุจุท ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุดูู ุตุญูุญ

### ุฎุทุฃ ูู ุตูุงุญูุงุช ุงููุตูู
```
โ ุฎุทุฃ: permission denied for table "table_name"
```
**ุงูุญู**: ุชุฃูุฏ ูู ุฃู ุงููุณุชุฎุฏู ูููู ุตูุงุญูุงุช ุงููุฑุงุกุฉ ูู ุงูุฌุฏูู

### ุฌุฏูู ุบูุฑ ููุฌูุฏ
```
โ๏ธ ูุง ูููู ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช ูู ุฌุฏูู table_name: relation "table_name" does not exist
```
**ุงูุญู**: ูุฐุง ุชุญุฐูุฑ ุทุจูุนู ุฅุฐุง ูู ููู ุงูุฌุฏูู ููุฌูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุฏููุฉ

## ููุงุญุธุงุช ูููุฉ

1. **ุงููุณุฎ ุงูุงุญุชูุงุทู**: ุชุฃูุฏ ูู ุฃุฎุฐ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุจู ุชุดุบูู ุงูุณูุฑูุจุช
2. **ุงููุณุงุญุฉ**: ุชุฃูุฏ ูู ูุฌูุฏ ูุณุงุญุฉ ูุงููุฉ ูุญูุธ ูููุงุช ุงูุชุตุฏูุฑ
3. **ุงูุตูุงุญูุงุช**: ุงููุณุชุฎุฏู ูุญุชุงุฌ ุตูุงุญูุงุช ุงููุฑุงุกุฉ ููุท ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุฏููุฉ
4. **ุงูุฃูุงู**: ูุง ุชุดุงุฑู ูููุงุช ุงูุชุตุฏูุฑ ุฅุฐุง ูุงูุช ุชุญุชูู ุนูู ุจูุงูุงุช ุญุณุงุณุฉ

## ุงูุฏุนู ุงูููู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู ูู ุงุณุชุฎุฏุงู ุงูุณูุฑูุจุชุ ุชุฃูุฏ ูู:
- ุตุญุฉ ุฑุงุจุท ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุตูุงุญูุงุช ุงููุณุชุฎุฏู
- ุฅููุงููุฉ ุงููุตูู ููุงุนุฏุฉ ุงูุจูุงูุงุช
- ุชููุฑ Node.js ูุงูููุชุจุงุช ุงููุทููุจุฉ